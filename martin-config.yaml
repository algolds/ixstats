# Martin Tile Server Configuration
# High-performance PostGIS vector tile server

# PostgreSQL connection string
postgres:
  connection_string: "postgresql://postgres:postgres@localhost:5433/ixstats"
  pool_size: 30
  auto_publish:
    tables:
      from_schemas: public
      id_columns: [ogc_fid]
      source_id_format: "{table}"
      tables:
        # Base map layers (always shown)
        - public.map_layer_political
        - public.map_layer_climate
        - public.map_layer_rivers
        - public.map_layer_lakes
        - public.map_layer_icecaps
        - public.map_layer_altitudes
        # User-created content layers (approved only, via PostGIS geom_postgis column)
        - public.subdivisions
        - public.cities
        - public.points_of_interest

# Server settings
listen_addresses: "0.0.0.0:3800"
worker_processes: 4

# Keep-alive to maintain connections
keep_alive: 60

# Cache settings for better performance
cache:
  ttl: 3600
  size_mb: 512
